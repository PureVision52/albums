{"version":3,"sources":["../../react-albums/src/components/Loading.js","../../react-albums/src/components/SearchBar.js","../../react-albums/src/hooks/useDebounce.js","../../react-albums/src/components/Error.js","../../react-albums/src/components/Filters.js","../../react-albums/src/components/Album.js","../../react-albums/src/components/Results.js","../../react-albums/src/index.js","../../react-albums/src/components/LiveSearch.js"],"names":["Loading","props","react_default","a","createElement","Fragment","show","className","src","alt","SearchBar","operation","ms","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onSearch","useEffect","handle","setTimeout","clearTimeout","onSubmit","event","preventDefault","spellCheck","placeholder","name","type","onChange","target","loading","Error","onClick","onClose","children","Filters","filterItems","keys","filters","map","filter","key","id","checked","setFilter","htmlFor","Album","albumInfoClass","classnames","album__info--explicit","collectionExplicitness","artworkUrl100","collectionName","artistName","Results","results","album","Explicit","getYear","Date","releaseDate","Single","trackCount","endsWith","EP","length","assign","collectionId","ReactDOM","render","term","search","setSearch","_useState3","1900s","2000s","_useState4","setFilters","_useState5","_useState6","error","setError","prev","useRef","current","objectSpread","axios","get","concat","then","response","data","sort","b","differenceInDays","catch","react","defineProperty","document","getElementById"],"mappings":"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","file":"static/js/main.e99b50b4.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Loading(props) {\n  return (\n    <>\n      {props.show && (\n        <img\n          className=\"spinner\"\n          src=\"images/status.png\"\n          alt=\"Loading Indicator\"\n        />\n      )}\n    </>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport useDebounce from \"hooks/useDebounce\";\n\nimport Loading from \"components/Loading\";\n\nexport default function SearchBar(props) {\n  const [value, setValue] = useState(\"\");\n\n  useDebounce(() => props.onSearch(value), 400);\n\n  return (\n    <section className=\"search\">\n      <form className=\"search__form\" onSubmit={event => event.preventDefault()}>\n        <input\n          className=\"radius\"\n          spellCheck=\"false\"\n          placeholder=\"Search Artists\"\n          name=\"search\"\n          type=\"text\"\n          value={value}\n          onChange={event => setValue(event.target.value)}\n        />\n      </form>\n      <Loading show={props.loading} />\n    </section>\n  );\n}\n","import { useEffect } from \"react\";\n\nexport default function useDebounce(operation, ms) {\n  useEffect(() => {\n    const handle = setTimeout(operation, ms);\n    return () => clearTimeout(handle);\n  }, [operation, ms]);\n}\n","import React from \"react\";\n\nexport default function Error(props) {\n  if (props.show === false) return null;\n\n  return (\n    <section className=\"error radius\" onClick={props.onClose}>\n      { props.children } \n      <img className=\"error__close\" src=\"images/times.png\" alt=\"Close\" />\n    </section>\n  );\n}\n","import React from \"react\";\n\nexport default function Filters(props) {\n  const filterItems = Object.keys(props.filters).map(filter => (\n    <div key={filter} className=\"filters__form-group\">\n      <input\n        className=\"filters__checkbox\"\n        type=\"checkbox\"\n        name={filter}\n        id={filter}\n        checked={props.filters[filter]}\n        onChange={event => props.setFilter(filter, event.target.checked)}\n      />\n      <label className=\"filters__label\" htmlFor={filter}>\n        {filter}\n      </label>\n    </div>\n  ));\n\n  return (\n    <section className=\"filters\">\n      <form className=\"filters__form\">{filterItems}</form>\n    </section>\n  );\n}\n","import React from \"react\";\n\nimport classnames from \"classnames\";\n\nexport default function Album(props) {\n  const albumInfoClass = classnames(\"album__info\", {\n    \"album__info--explicit\": props.collectionExplicitness === \"explicit\"\n  });\n\n  return (\n    <article className=\"album\">\n      <img className=\"album__thumbnail\" src={props.artworkUrl100} alt=\"Album\" />\n      <div className={albumInfoClass}>\n        <div className=\"album__name\">{props.collectionName}</div>\n        <div className=\"album__artist\">{props.artistName}</div>\n      </div>\n    </article>\n  );\n}\n","import React from \"react\";\nimport { getYear } from \"date-fns\";\n\nimport Album from \"components/Album\";\n\nexport default function Results(props) {\n  const { results, filters } = props;\n\n  return results\n    .filter(album => {\n      if (\n        filters.Explicit === false &&\n        album.collectionExplicitness === \"explicit\"\n      ) {\n        return false;\n      }\n\n      if (\n        filters[\"1900s\"] === false &&\n        getYear(new Date(album.releaseDate)) < 2000\n      ) {\n        return false;\n      }\n\n      if (\n        filters[\"2000s\"] === false &&\n        getYear(new Date(album.releaseDate)) >= 2000\n      ) {\n        return false;\n      }\n\n      if (\n        filters.Single === false &&\n        (album.trackCount === 1 || album.collectionName.endsWith(\"- Single\"))\n      ) {\n        return false;\n      }\n\n      if (\n        filters.EP === false &&\n        ((album.trackCount >= 4 && album.trackCount <= 6) ||\n          album.collectionName.endsWith(\"- EP\"))\n      ) {\n        return false;\n      }\n\n      if (album.collectionName.length > 127 || album.artistName.length > 127) {\n        return false;\n      }\n\n      return true;\n    })\n    .map(album => {\n      return <Album key={album.collectionId} {...album} />;\n    });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./reset.css\";\nimport \"./index.css\";\n\nimport LiveSearch from \"components/LiveSearch\";\n\nReactDOM.render(<LiveSearch />, document.getElementById(\"root\"));\n","import React, { Fragment, useState, useEffect, useRef } from \"react\";\n\nimport { differenceInDays } from \"date-fns\";\n\nimport axios from \"axios\";\n\nimport SearchBar from \"components/SearchBar\";\nimport Error from \"components/Error\";\nimport Filters from \"components/Filters\";\nimport Results from \"components/Results\";\n\nexport default function LiveSearch(props) {\n  const [search, setSearch] = useState({\n    term: \"\",\n    results: [],\n    loading: false\n  });\n\n  const [filters, setFilters] = useState({\n    Explicit: true,\n    \"1900s\": true,\n    \"2000s\": true,\n    Single: false,\n    EP: false\n  });\n\n  const [error, setError] = useState(false);\n\n  const prev = useRef(\"\");\n\n  function showError() {\n    setSearch({\n      term: \"\",\n      results: [],\n      loading: false\n    });\n\n    setError(true);\n  }\n\n  useEffect(() => {\n    if (prev.current === \"\" && search.term === \"\") return;\n\n    setSearch(prev => ({\n      ...prev,\n      loading: true\n    }));\n\n    prev.current = search.term;\n\n    axios\n      .get(\n        `https://itunes.apple.com/search?term=${search.term}&country=CA&media=music&entity=album&attribute=artistTerm`\n      )\n      .then(response => {\n        response.data.results.sort((a, b) => {\n          return differenceInDays(\n            new Date(b.releaseDate),\n            new Date(a.releaseDate)\n          );\n        });\n\n        setSearch(search => ({\n          ...search,\n          results: response.data.results,\n          loading: false\n        }));\n      })\n      .catch(error => {\n        showError();\n      });\n  }, [search.term]);\n\n  return (\n    <Fragment>\n      <header className=\"logo\">\n        <img src=\"images/brand.png\" alt=\"Brand\" />\n      </header>\n      <main>\n        <SearchBar\n          loading={search.loading}\n          onSearch={term => setSearch({ ...search, term })}\n        />\n        <Error show={error} onClose={event => setError(false)}>\n          The server returned an error.\n        </Error>\n        <Filters\n          filters={filters}\n          setFilter={(filter, value) =>\n            setFilters({ ...filters, [filter]: value })\n          }\n        />\n        <Results results={search.results} filters={filters} />\n      </main>\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}